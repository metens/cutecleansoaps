/* =========================================================
   Cute Clean Soaps — refactored styles.css
   - Removes duplicates
   - Consolidates gallery/overlay/meta/rating rules
   - Keeps your existing design + behavior
   ========================================================= */

/* ---------- Theme / defaults ---------- */
:root{
  --bg: #fffaea;                 /* MAIN PAGE BACKGROUND */
  --card: rgb(186, 228, 250);    /* GALLERY / CARD BACKGROUND */
  --border: #ddd;
  --text: #333;
  --shadow: 0 8px 18px rgba(0,0,0,0.12);

  --radius: 12px;
  --gap: 18px;

  /* space reserved at bottom of product cards for rating/meta row */
  --meta-height: 34px;
}

/* One body rule (your file had two body blocks) */
body{
  margin: 0;
  padding: 20px;
  text-align: center;

  font-family: "Comic Sans MS", sans-serif;
  font-style: italic;

  color: var(--text);
  background-color: var(--bg);

  /* corner florals */
  background-image:
    url(images/floral1.png),
    url(images/floral2.png),
    url(images/floral3.png),
    url(images/floral4.png);
  background-position:
    top left,
    top right,
    bottom left,
    bottom right;
  background-repeat: no-repeat;
  background-size: 300px; /* make them smaller */
}

h1{ text-align:center; }

/* Keep header fonts consistent (your file re-declared Comic Sans a lot) */
h1, h2, h3,
.hero-title,
.home-section h2,
.card-title{
  font-family: "Comic Sans MS", sans-serif;
  font-style: italic;
  font-weight: normal;
  color: var(--text);
}

/* ---------- Header / logo ---------- */
.header{
  display:flex;
  align-items:center;
  justify-content:center; /* remove if you want left-aligned */
  gap: 12px;
}

.logo{
  width:150px;
  height:auto;
}

/* ---------- Gallery / product cards ---------- */
.gallery{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap: var(--gap);
  max-width: 1000px;
  margin: 0 auto;
}

.gallery-item{
  width: 260px;
  max-width: 100%;

  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:10px;

  background-color: var(--card);
  text-align:center;

  cursor:pointer;
  position:relative;
  overflow:hidden;

  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
}

.gallery-item img{
  width:100%;
  height:200px;
  object-fit:cover;
  display:block;
  border-radius: 6px;
}

.gallery-item p{
  margin-top:8px;
  font-size:14px;
}

/* One hover/active transform (your file had multiple conflicting ones) */
.gallery-item:hover{
  transform: translateY(-4px) scale(1.02);
  box-shadow: var(--shadow);
}

.gallery-item:active{
  transform: translateY(-2px) scale(0.99);
}

/* Out-of-stock */
.gallery-item.out{
  opacity:0.6;
  cursor:not-allowed;
}

.out-of-stock{
  margin-top:8px;
  padding:4px 10px;
  background:#c0392b;
  color:white;
  font-size:13px;
  font-weight:bold;
  border-radius:999px;
}

/* ---------- Overlay (hover/tap) ---------- */
.gallery-item .overlay{
  position:absolute;
  left:0; right:0; top:0;
  bottom: var(--meta-height); /* overlay ends before rating/meta row */
  z-index: 2;

  background: rgba(0,0,0,0.55);
  color: #fff;

  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;

  padding:12px;
  opacity:0;
  transition: opacity 0.25s ease;
  pointer-events:none; /* overlay never steals clicks */
}

/* Desktop hover (only when hover is supported) */
@media (hover:hover) and (pointer:fine){
  .gallery-item:hover .overlay{ opacity:1; }
}

/* Mobile tap-to-open class */
.gallery-item.is-open .overlay{ opacity:1; }

.overlay span{ font-size:12px; opacity:0.85; }
.overlay small{ font-size:11px; line-height:1.2; }

/* ---------- Rating / meta line on product cards ---------- */
.meta-line{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;

  min-height:24px;
  background: transparent !important;
  backdrop-filter: none !important;

  position:relative;
  z-index: 3; /* above overlay */
}

.rating-text{ white-space:nowrap; }

/* clickable rating area */
.rating-link,
.star-link{
  display:inline-flex;
  align-items:center;
  gap:8px;

  text-decoration:none;
  color:inherit;

  padding:2px 4px;
  border-radius: 8px;

  cursor:pointer;
  transition: transform 0.15s ease, filter 0.15s ease;
  transform-origin:left center;
}

.rating-link:hover,
.star-link:hover{
  transform: scale(1.06);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.12));
}

.rating-link:active,
.star-link:active{ transform: scale(1.02); }

.star-link:focus{
  outline:2px solid #000;
  outline-offset:2px;
}

/* Stars (supports partial fill via --fill 0..1) */
.star-wrap{ display:inline-flex; flex: 0 0 auto; }
.star-rating{ display:inline-flex; gap:2px; line-height:1; }

.star{
  position:relative;
  display:inline-block;
  width:16px;
  height:16px;
  font-size:16px;
  line-height:16px;
}

.star::before{
  content:"☆";
  position:absolute;
  left:0; top:0;
}

.star::after{
  content:"★";
  position:absolute;
  left:0; top:0;
  width: calc(var(--fill, 0) * 100%);
  overflow:hidden;
}

/* ---------- Modal ---------- */
.modal{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,0.5);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:1000;
}

.modal.hidden{ display:none; }

.modal-content{
  background:#fff;
  padding:20px;
  width:300px;
  border-radius:10px;
  text-align:center;
  position:relative;
}

.close-btn{
  position:absolute;
  top:8px;
  right:10px;
  font-size:22px;
  background:none;
  border:none;
  cursor:pointer;
}

.quantity{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin:10px 0;
}

.quantity button{
  width:30px;
  height:30px;
  font-size:18px;
}

/* ---------- Cart UI ---------- */
.cart-btn{
  position:fixed;
  top:12px;
  right:12px;
  padding:10px 14px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  z-index:2000;
}

#cart-items{
  text-align:left;
  margin:10px 0;
}

.cart-row{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  margin-bottom:6px;
}

#checkout-btn{
  margin-top:10px;
  padding:10px;
  width:100%;
  cursor:pointer;
}

/* ---------- Home page ---------- */
.home-hero{
  max-width: 820px;
  margin: 0 auto 22px;
  padding: 16px 18px;

  border:1px solid var(--border);
  border-radius: 10px;
  background: var(--card);
}

.hero-title{
  margin: 0 0 4px;
  font-size: 40px;
  line-height: 1.1;
}

.hero-subtitle{
  margin: 0 auto 10px;
  max-width: 800px;
  font-size: 16px;
  opacity: 0.95;
}

.hero-btn{
  display:inline-block;
  padding:10px 16px;
  border-radius:999px;
  border: 1px solid rgba(0,0,0,0.12);
  text-decoration:none;
  background: var(--bg);
  color: var(--text);
  font-weight:bold;

  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.hero-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.15);
}

.home-section{
  max-width: 1000px;
  margin: 0 auto 26px;
  padding: 0 10px;
}

.home-section h2{
  margin: 0 0 10px;
  font-size: 26px;
}

.home-text{
  max-width: 900px;
  margin: 0 auto 12px;
  font-size: 15px;
  line-height: 1.55;
  opacity: 0.95;
}

/* reuse gallery layout */
.home-cards{ margin-top: 14px; }

.home-card{
  cursor: default;
}

.home-card:hover{
  transform: translateY(-2px); /* subtle */
  box-shadow: 0 8px 16px rgba(0,0,0,0.10);
}

/* card text */
.card-title{ margin: 2px 0 8px; font-size: 18px; }
.card-text{ margin: 0; font-size: 14px; line-height: 1.45; }

.tagline{ margin: 0 auto 10px; font-size: 18px; }
.home-closing{ padding-bottom: 10px; }

/* ---------- /soaps/:slug page ---------- */
.soap-page{
  max-width: 720px;
  margin: 0 auto;
  padding: 28px 18px;
}

.soap-page > *{ margin-bottom: 12px; }
#soap-title{ margin: 0 0 6px; }

#soap-rating{
  display:inline-flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  line-height:1;
  vertical-align: middle;
  margin: 6px 0 10px;
}

#soap-rating .star-wrap,
#soap-rating .star-rating{
  display:inline-flex;
  align-items:center;
  flex: 0 0 auto;
  line-height:1;
}

#soap-rating .star{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:16px;
  height:16px;
  font-size:16px;
  line-height:16px;
  vertical-align: middle;
}

#soap-rating .rating-text{
  display:inline-block;
  line-height:1;
  white-space:nowrap;
  transform: translateY(-0.5px);
}

#soap-ingredients{
  margin-top:10px;
  line-height:1.4;
}

/* Review form */
#review-stars,
#review-text,
#review-name{
  max-width: 520px;
  width:100%;
  display:block;
}

#review-stars{ margin: 6px auto 0; }

#review-text{
  margin: 8px auto 0;
  padding: 10px 12px;
  border-radius: 10px;
  resize: vertical;
}

#review-submit{
  display:inline-block;
  margin: 10px auto 0;
  padding: 10px 14px;
  border-radius: 10px;
}

.soap-page label{
  display:inline-flex;
  align-items:center;
  gap:8px;
}

#use-name{ transform: translateY(1px); }

/* Review cards */
.review-card{
  background:#eff6ff;
  border:1px solid #dbeafe;
  border-radius:14px;
  padding:12px 14px;
  margin:10px 0;
}

.review-meta{
  display:flex;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}

.review-stars{ margin-top:6px; }

.review-text{
  margin-top:8px;
  line-height:1.45;
  opacity:0.92;
}

.like-btn{
  margin-top:10px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  border:1px solid #dbeafe;
  background: rgba(255,255,255,0.7);
  border-radius:999px;
  padding:6px 10px;
  cursor:pointer;
}

.like-btn[disabled]{
  opacity:0.6;
  cursor:not-allowed;
}

/* ---------- Mobile tweaks ---------- */
@media (max-width:700px){
  .hero-title{ font-size: 20px; }
  .home-section h2{ font-size: 18px; }
  .tagline{ font-size: 16px; }

  /* Make the "why" cards a bit wider on phones */
  .gallery-item.home-card{ width: min(92vw, 420px); }
}

/* ---------- Home footer (remove inline styles) ---------- */
.home-footer{
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 10px 24px;
}

.footer-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
  margin-top: 10px;
}

@media (max-width: 700px){
  .footer-grid{ grid-template-columns: 1fr; }
}

.footer-card{
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 12px;
  padding: 14px;
  background: rgba(255,255,255,0.65);
}

.footer-title{
  font-weight: 700;
}

.footer-sub{
  opacity: .8;
  font-size: 13px;
  margin-top: 4px;
}

.footer-cta{
  display: inline-block;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #000;
  background: #fff;
  text-decoration: none;
  color: inherit;
}

/* ---------- Bigger cart button on mobile ---------- */
@media (max-width: 700px){
  .cart-btn{
    padding: 14px 18px;   /* bigger tap area */
    font-size: 16px;      /* larger text */
    border-radius: 999px; /* keep pill shape */
  }

  /* If you ever add an icon inside */
  .cart-btn svg,
  .cart-btn img{
    width: 20px;
    height: 20px;
  }
}